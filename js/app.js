!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Navigo",[],t):"object"==typeof exports?exports.Navigo=t():e.Navigo=t()}("undefined"!=typeof self?self:this,(function(){return(()=>{"use strict";var e={783:(e,t,n)=>{n.d(t,{default:()=>H});var o=/([:*])(\w+)/g,s=/\*/g,r=/\/\?/g;function a(e){return void 0===e&&(e="/"),y()?location.pathname+location.search+location.hash:e}function c(e){return e.replace(/\/+$/,"").replace(/^\/+/,"")}function i(e){return"string"==typeof e}function l(e){return e&&e.indexOf("#")>=0&&e.split("#").pop()||""}function d(e){var t=c(e).split(/\?(.*)?$/);return[c(t[0]),t.slice(1).join("")]}function u(e){for(var t={},n=e.split("&"),o=0;o<n.length;o++){var s=n[o].split("=");if(""!==s[0]){var r=decodeURIComponent(s[0]);t[r]?(Array.isArray(t[r])||(t[r]=[t[r]]),t[r].push(decodeURIComponent(s[1]||""))):t[r]=decodeURIComponent(s[1]||"")}}return t}function m(e,t){var n,a=d(c(e.currentLocationPath)),m=a[0],h=a[1],g=""===h?null:u(h),y=[];if(i(t.path)){if(n="(?:/^|^)"+c(t.path).replace(o,(function(e,t,n){return y.push(n),"([^/]+)"})).replace(s,"?(?:.*)").replace(r,"/?([^/]+|)")+"$",""===c(t.path)&&""===c(m))return{url:m,queryString:h,hashString:l(e.to),route:t,data:null,params:g}}else n=t.path;var p=new RegExp(n,""),f=m.match(p);if(f){var E=i(t.path)?function(e,t){return 0===t.length?null:e?e.slice(1,e.length).reduce((function(e,n,o){return null===e&&(e={}),e[t[o]]=decodeURIComponent(n),e}),null):null}(f,y):f.groups?f.groups:f.slice(1);return{url:m,queryString:h,hashString:l(e.to),route:t,data:E,params:g}}return!1}function h(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function g(e,t){return void 0===e[t]||!0===e[t]}function y(){return"undefined"!=typeof window}function p(e,t){return void 0===e&&(e=[]),void 0===t&&(t={}),e.filter((function(e){return e})).forEach((function(e){["before","after","already","leave"].forEach((function(n){e[n]&&(t[n]||(t[n]=[]),t[n].push(e[n]))}))})),t}function f(e,t,n){var o=t||{},s=0;!function t(){e[s]?Array.isArray(e[s])?(e.splice.apply(e,[s,1].concat(e[s][0](o)?e[s][1]:e[s][2])),t()):e[s](o,(function(e){void 0===e||!0===e?(s+=1,t()):n&&n(o)})):n&&n(o)}()}function E(e,t){void 0===e.currentLocationPath&&(e.currentLocationPath=e.to=a(e.instance.root)),e.currentLocationPath=e.instance._checkForAHash(e.currentLocationPath),t()}function v(e,t){for(var n=0;n<e.instance.routes.length;n++){var o=m(e,e.instance.routes[n]);if(o&&(e.matches||(e.matches=[]),e.matches.push(o),"ONE"===e.resolveOptions.strategy))return void t()}t()}function I(e,t){e.navigateOptions&&(void 0!==e.navigateOptions.shouldResolve&&console.warn('"shouldResolve" is deprecated. Please check the documentation.'),void 0!==e.navigateOptions.silent&&console.warn('"silent" is deprecated. Please check the documentation.')),t()}function B(e,t){!0===e.navigateOptions.force?(e.instance._setCurrent([e.instance._pathToMatchObject(e.to)]),t(!1)):t()}f.if=function(e,t,n){return Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]),[e,t,n]};var k=y(),w=h();function C(e,t){if(g(e.navigateOptions,"updateBrowserURL")){var n=("/"+e.to).replace(/\/\//g,"/"),o=k&&e.resolveOptions&&!0===e.resolveOptions.hash;w?(history[e.navigateOptions.historyAPIMethod||"pushState"](e.navigateOptions.stateObj||{},e.navigateOptions.title||"",o?"#"+n:n),location&&location.hash&&(e.instance.__freezeListening=!0,setTimeout((function(){var t=location.hash;location.hash="",location.hash=t,e.instance.__freezeListening=!1}),1))):k&&(window.location.href=e.to)}t()}function b(e,t){var n=e.instance;n.lastResolved()?f(n.lastResolved().map((function(t){return function(n,o){if(t.route.hooks&&t.route.hooks.leave){var s,r=e.instance.matchLocation(t.route.path,e.currentLocationPath);s="*"!==t.route.path?!r:!(e.matches&&e.matches.find((function(e){return t.route.path===e.route.path}))),g(e.navigateOptions,"callHooks")&&s?f(t.route.hooks.leave.map((function(t){return function(n,o){return t(o,e.matches&&e.matches.length>0?1===e.matches.length?e.matches[0]:e.matches:void 0)}})).concat([function(){return o()}])):o()}else o()}})),{},(function(){return t()})):t()}function x(e,t){g(e.navigateOptions,"updateState")&&e.instance._setCurrent(e.matches),t()}var L=[function(e,t){var n=e.instance.lastResolved();if(n&&n[0]&&n[0].route===e.match.route&&n[0].url===e.match.url&&n[0].queryString===e.match.queryString)return n.forEach((function(t){t.route.hooks&&t.route.hooks.already&&g(e.navigateOptions,"callHooks")&&t.route.hooks.already.forEach((function(t){return t(e.match)}))})),void t(!1);t()},function(e,t){e.match.route.hooks&&e.match.route.hooks.before&&g(e.navigateOptions,"callHooks")?f(e.match.route.hooks.before.map((function(t){return function(n,o){return t(o,e.match)}})).concat([function(){return t()}])):t()},function(e,t){g(e.navigateOptions,"callHandler")&&e.match.route.handler(e.match),e.instance.updatePageLinks(),t()},function(e,t){e.match.route.hooks&&e.match.route.hooks.after&&g(e.navigateOptions,"callHooks")&&e.match.route.hooks.after.forEach((function(t){return t(e.match)})),t()}],S=[b,function(e,t){var n=e.instance._notFoundRoute;if(n){e.notFoundHandled=!0;var o=d(e.currentLocationPath),s=o[0],r=o[1],a=l(e.to);n.path=c(s);var i={url:n.path,queryString:r,hashString:a,data:null,route:n,params:""!==r?u(r):null};e.matches=[i],e.match=i}t()},f.if((function(e){return e.notFoundHandled}),L.concat([x]),[function(e,t){e.resolveOptions&&!1!==e.resolveOptions.noMatchWarning&&void 0!==e.resolveOptions.noMatchWarning||console.warn('Navigo: "'+e.currentLocationPath+"\" didn't match any of the registered routes."),t()},function(e,t){e.instance._setCurrent(null),t()}])];function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function A(e,t){var n=0;b(e,(function o(){n!==e.matches.length?f(L,O({},e,{match:e.matches[n]}),(function(){n+=1,o()})):x(e,t)}))}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function H(e,t){var n,o=t||{strategy:"ONE",hash:!1,noMatchWarning:!1},s=this,r="/",g=null,k=[],w=!1,b=h(),x=y();function L(e){return e.indexOf("#")>=0&&(e=!0===o.hash?e.split("#")[1]||"/":e.split("#")[0]),e}function O(e){return c(r+"/"+c(e))}function H(e,t,n,o){return e=i(e)?O(e):e,{name:o||c(String(e)),path:e,handler:t,hooks:p(n)}}function P(e,t){e=e?c(r)+"/"+c(e):void 0;var n={instance:s,to:e,currentLocationPath:e,navigateOptions:{},resolveOptions:_({},o,t)};return f([E,v,f.if((function(e){var t=e.matches;return t&&t.length>0}),A,S)],n),!!n.matches&&n.matches}function N(e,t){e=c(r)+"/"+c(e);var n={instance:s,to:e,navigateOptions:t||{},resolveOptions:t&&t.resolveOptions?t.resolveOptions:o,currentLocationPath:L(e)};f([I,B,v,f.if((function(e){var t=e.matches;return t&&t.length>0}),A,S),C],n)}function q(){if(x)return(x?[].slice.call(document.querySelectorAll("[data-navigo]")):[]).forEach((function(e){"false"!==e.getAttribute("data-navigo")&&"_blank"!==e.getAttribute("target")?e.hasListenerAttached||(e.hasListenerAttached=!0,e.navigoHandler=function(t){if((t.ctrlKey||t.metaKey)&&"a"===t.target.tagName.toLowerCase())return!1;var n=e.getAttribute("href");if(null==n)return!1;if(n.match(/^(http|https)/)&&"undefined"!=typeof URL)try{var o=new URL(n);n=o.pathname+o.search}catch(e){}var r=function(e){if(!e)return{};var t,n=e.split(","),o={};return n.forEach((function(e){var n=e.split(":").map((function(e){return e.replace(/(^ +| +$)/g,"")}));switch(n[0]){case"historyAPIMethod":o.historyAPIMethod=n[1];break;case"resolveOptionsStrategy":t||(t={}),t.strategy=n[1];break;case"resolveOptionsHash":t||(t={}),t.hash="true"===n[1];break;case"updateBrowserURL":case"callHandler":case"updateState":case"force":o[n[0]]="true"===n[1]}})),t&&(o.resolveOptions=t),o}(e.getAttribute("data-navigo-options"));w||(t.preventDefault(),t.stopPropagation(),s.navigate(c(n),r))},e.addEventListener("click",e.navigoHandler)):e.hasListenerAttached&&e.removeEventListener("click",e.navigoHandler)})),s}function j(e,t){var n=k.find((function(t){return t.name===e}));if(n){var o=n.path;if(t)for(var s in t)o=o.replace(":"+s,t[s]);return o.match(/^\//)?o:"/"+o}return null}function M(e){var t=d(c(e)),o=t[0],s=t[1],r=""===s?null:u(s);return{url:o,queryString:s,hashString:l(e),route:H(o,(function(){}),[n],o),data:null,params:r}}function R(e,t,n){return"string"==typeof t&&(t=T(t)),t?(t.hooks[e]||(t.hooks[e]=[]),t.hooks[e].push(n),function(){t.hooks[e]=t.hooks[e].filter((function(e){return e!==n}))}):(console.warn("Route doesn't exists: "+t),function(){})}function T(e){return"string"==typeof e?k.find((function(t){return t.name===O(e)})):k.find((function(t){return t.handler===e}))}e?r=c(e):console.warn('Navigo requires a root path in its constructor. If not provided will use "/" as default.'),this.root=r,this.routes=k,this.destroyed=w,this.current=g,this.__freezeListening=!1,this.on=function(e,t,o){var s=this;return"object"!=typeof e||e instanceof RegExp?("function"==typeof e&&(o=t,t=e,e=r),k.push(H(e,t,[n,o])),this):(Object.keys(e).forEach((function(t){if("function"==typeof e[t])s.on(t,e[t]);else{var o=e[t],r=o.uses,a=o.as,c=o.hooks;k.push(H(t,r,[n,c],a))}})),this)},this.off=function(e){return this.routes=k=k.filter((function(t){return i(e)?c(t.path)!==c(e):"function"==typeof e?e!==t.handler:String(t.path)!==String(e)})),this},this.resolve=P,this.navigate=N,this.navigateByName=function(e,t,n){var o=j(e,t);return null!==o&&(N(o,n),!0)},this.destroy=function(){this.routes=k=[],b&&window.removeEventListener("popstate",this.__popstateListener),this.destroyed=w=!0},this.notFound=function(e,t){return s._notFoundRoute=H("*",e,[n,t],"__NOT_FOUND__"),this},this.updatePageLinks=q,this.link=function(e){return"/"+r+"/"+c(e)},this.hooks=function(e){return n=e,this},this.extractGETParameters=function(e){return d(L(e))},this.lastResolved=function(){return g},this.generate=j,this.getLinkPath=function(e){return e.getAttribute("href")},this.match=function(e){var t={instance:s,currentLocationPath:e,to:e,navigateOptions:{},resolveOptions:o};return v(t,(function(){})),!!t.matches&&t.matches},this.matchLocation=function(e,t){var n={instance:s,to:t,currentLocationPath:t};return E(n,(function(){})),"string"==typeof e&&(e=c(e)),m(n,{name:String(e),path:e,handler:function(){},hooks:{}})||!1},this.getCurrentLocation=function(){return M(c(a(r)).replace(new RegExp("^"+r),""))},this.addBeforeHook=R.bind(this,"before"),this.addAfterHook=R.bind(this,"after"),this.addAlreadyHook=R.bind(this,"already"),this.addLeaveHook=R.bind(this,"leave"),this.getRoute=T,this._pathToMatchObject=M,this._clean=c,this._checkForAHash=L,this._setCurrent=function(e){return g=s.current=e},function(){b&&(this.__popstateListener=function(){s.__freezeListening||P()},window.addEventListener("popstate",this.__popstateListener))}.call(this),q.call(this)}}},t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}return n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(783)})().default}));const currLoggedIn="John Doe",approvedEmail="test@test",approvedPassword="test";function get(e,t){return new Promise(((n,o)=>{const s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==this.readyState)return 200==this.status?(t(JSON.parse(this.responseText)),n()):o()},s.open("GET",e),s.send()}))}function getCurrHM(){let e=new Date,t=e.getHours();t=t<10?"0"+t:t;let n=e.getMinutes();return n=n<10?"0"+n:n,t+":"+n}function postOnEnter(e,t){e.addEventListener("keyup",(function(e){13===e.keyCode&&t.click()}))}function handleClicksForAssignments(){const e=document.querySelectorAll(".assignment-bar"),t=Array.from(e);let n=[];e.forEach((function(e){e.addEventListener("click",(function(o){const s=t.indexOf(o.target),r=e.parentElement.lastElementChild,[a,c]=r.children;if(a.classList.contains("show"))a.classList.remove("show"),c.classList.remove("show"),r.parentElement.children[0].classList.remove("show"),n.pop();else{if(a.classList.add("show"),c.classList.add("show"),r.parentElement.children[0].classList.add("show"),n.length){const e=n.pop(),o=t[e].parentElement;o.children[0].classList.remove("show"),o.lastElementChild.children[0].classList.remove("show"),o.lastElementChild.children[1].classList.remove("show")}n.push(s)}}))}))}function changeHeaderStyleAndNav(e,t,n,o){changeHeaderElementsDisplay(e,t,n),setNavHrefs(o)}function changeHeaderElementsDisplay(e,t,n){document.getElementById("middle-text-id").style.display=e?"flex":"none",document.getElementById("right-join-and-create-id").style.display=t?"flex":"none",document.getElementById("right-invite-id").style.display=n?"flex":"none"}function setNavHrefs(e){const t=document.getElementById("stream-page"),n=document.getElementById("classwork-page"),o=document.getElementById("students-page");t.href="/courses/"+e,n.href="/courses/"+e+"/classwork",o.href="/courses/"+e+"/students";const s=document.querySelectorAll(".middle-text a");s.forEach((function(e){e.addEventListener("click",(function(){addBorderBottomMiddle(s,e)}))}))}function addBorderBottomMiddle(e,t){e.forEach((function(e){e.classList.contains("curr-page")&&e.classList.remove("curr-page")})),t.classList.add("curr-page")}function sleep(e){return new Promise((t=>setTimeout(t,e)))}function operationSuccessful(e,t){const n=document.getElementById("loading-screen-container"),o=document.getElementById("loading-screen-main-label");o.textContent="Please wait",n.style.display="block",document.querySelectorAll(t).forEach((function(e){e.value=""})),setTimeout((function(){o.textContent=e,setTimeout((function(){n.style.display="none"}),1313)}),1313)}class indexController{static index(){return fetch("/html/index.html").then((e=>e.text())).then((e=>{document.getElementById("body").innerHTML=e,document.fonts.ready.then((function(){document.getElementById("white-background").style.display="none";!async function(e,t,n,o,s,r){for(;;)for(let a=0;a<n.length;a++){s.style.borderColor=t[a],r.textContent=e[a],r.style.backgroundColor=t[a];for(let e=0;e<n[a].length;e++)o.textContent+=n[a][e],await sleep(100);await sleep(2e3),o.textContent=""}}(["Pam","Kim","Tom"],["#00a3bd","#f4b400","#cc1470"],["informative","inspiring","helpful"],document.getElementById("type-out-line-text"),document.querySelector(".type-out-line"),document.getElementById("type-out-line-label"))}))}))}}class loginController{static login(e,t){return fetch("/html/login.html").then((e=>e.text())).then((e=>{document.getElementById("body").innerHTML=e;const n=document.getElementById("button-lr"),o=document.getElementById("google-button"),s=document.getElementById("loading-screen-container"),r=document.getElementById("loading-screen-main-label");n.addEventListener("click",(function(e){const n=document.getElementById("email").value,o=document.getElementById("password").value;e.preventDefault(),"test@test"===n.toLowerCase()&&"test"===o?t.navigate("/courses"):(alert("For login use:\nEmail: test@test\nPassword: test\nOR press google button"),document.getElementById("wrong-credentials").style.display="block")})),o.addEventListener("click",(function(){!async function(e,n){n.textContent="Please wait",e.style.display="block",await sleep(1313),e.style.display="none",t.navigate("/courses")}(s,r)}))}))}}const header=()=>fetch("/html/header.html").then((e=>e.text())).then((e=>{document.getElementById("body").innerHTML=e})).then((()=>{handleSidebarInfo()}));function handleSidebarInfo(){const e=document.querySelector(".plus-button"),t=document.querySelector(".menu-content"),n=document.getElementById("join-class"),o=document.getElementById("close-join"),s=document.getElementById("create-class"),r=document.getElementById("create-button"),a=document.getElementById("create-button-join"),c=document.getElementById("close"),i=document.getElementById("invite-button"),l=document.getElementById("invite-close-button"),d=document.getElementById("inv-button"),u=document.getElementById("burger-icon"),m=document.getElementById("sidebar-container");e.addEventListener("click",(()=>{"block"!==t.style.display?(t.style.display="block",e.style.backgroundColor="rgb(236, 236, 236)"):(t.style.display="none",e.style.backgroundColor="white")})),n.addEventListener("click",(()=>{document.getElementById("join-class-popup").style.display="block",e.click()})),o.addEventListener("click",(()=>{document.getElementById("join-class-popup").style.display="none"})),s.addEventListener("click",(()=>{document.getElementById("create-class-popup").style.display="block",e.click()})),r.addEventListener("click",(()=>{operationSuccessful("Class created!",".create-class-in-field"),document.getElementById("create-class-popup").style.display="none"})),a.addEventListener("click",(()=>{operationSuccessful("Class Joined!",".join-class-input-id"),document.getElementById("join-class-popup").style.display="none"})),c.addEventListener("click",(()=>{document.getElementById("create-class-popup").style.display="none"})),i.addEventListener("click",(()=>{document.getElementById("invite-popup-container").style.display="block"})),l.addEventListener("click",(()=>{document.getElementById("invite-popup-container").style.display="none"})),d.addEventListener("click",(()=>{operationSuccessful("Friend invited!",".invite-field"),document.getElementById("invite-popup-container").style.display="none"})),u.addEventListener("click",(e=>{e.stopPropagation(),m.classList.add("show")})),document.addEventListener("click",(()=>{m.classList.contains("show")&&m.classList.remove("show")}));const h=document.getElementById("sidebar-component"),g=document.getElementById("sidebar-course-template");get("/data/courses.json",(function(e){(e=e.data).forEach((function(e){const t=g.content.cloneNode(!0),n=e.name;t.querySelector(".classroom-icon").textContent=n[0],t.getElementById("course-name-label").textContent=n,t.querySelector(".sidebar-item").href+="/"+e.id,h.appendChild(t)}))}))}class coursesController{static loadPage(e){return fetch(e).then((e=>e.text())).then((e=>document.getElementById("main")?e:fetch("/html/header.html").then((e=>e.text())).then((e=>{document.getElementById("body").innerHTML=e})).then((()=>{handleSidebarInfo()})).then((()=>e))))}static index(){return coursesController.loadPage("/html/courses-index.html").then((e=>{document.getElementById("main").innerHTML=e,changeHeaderElementsDisplay(!1,!0,!1)})).then((()=>get("/data/courses.json",(function(e){(function(e){if(!e.length){const e=document.getElementById("empty-class-list").content.cloneNode(!0);document.getElementById("courses-main").appendChild(e)}})(e=e.data),function(e){const t=document.getElementById("course-row"),n=document.getElementById("course-card-template");e.forEach((function(e){const o=n.content.cloneNode(!0);o.querySelector("img").src=e.image,o.querySelector(".class-label").textContent=e.name,o.querySelector(".lecturer-label").textContent=e.lecturer,o.querySelector(".class-label").href+="/"+e.id,o.getElementById("redirect-to-your-work").href="/courses/"+e.id+"/classwork-assignments",t.appendChild(o)}))}(e)}))))}static show(e){let t=e.data.id;return coursesController.loadPage("/html/courses-show.html").then((e=>{document.getElementById("main").innerHTML=e,changeHeaderStyleAndNav(!0,!1,!0,t),addBorderBottomMiddle(document.querySelectorAll(".middle-text a"),document.getElementById("stream-page"))})).then((()=>get("/data/courses/"+t+".json",(function(e){!function(e,t){document.title=e.course.name,setNavHrefs(t),document.getElementById("classroom-title").textContent=e.course.name,document.getElementById("classroom-subject").textContent=e.course.subject,document.getElementById("classroom-room").textContent=e.course.room,document.getElementById("title-image").src=e.course.image;document.getElementById("show-additional-info").addEventListener("click",(()=>{const e=document.getElementById("additional-info-wrapper"),t=document.getElementById("title-image");e.classList.contains("show")?(e.classList.remove("show"),t.classList.remove("show")):(e.classList.add("show"),t.classList.add("show"))}));const n=document.getElementById("subject-label"),o=document.getElementById("room-label");e.course.subject||(n.style.display="none");e.course.room||(o.style.display="none");e.course.subject||e.course.room||(document.getElementById("show-additional-info").style.display="none");e.data.forEach((function(e){if(1==e.type&&"Assigned"==e.assignment_status){const n=document.getElementById("upcoming-assignment-href");return document.getElementById("upcoming-assignment-text").style.display="none",n.href="courses/"+t+"/classwork/"+e.id,void(n.textContent=e.assignment_name)}document.getElementById("view-all-materials").href="courses/"+t+"/classwork-assignments"}))}(e,t),function(){const e=document.querySelector(".announce-container"),t=document.querySelector(".announce-container-2"),n=document.getElementById("cancel-button-post"),o=document.getElementById("post-button-post"),a=document.getElementById("announce-textarea"),i=document.getElementById("reset-search-btn");e.addEventListener("click",(function(){e.style.display="none",t.style.display="block",a.select(),i.click()})),n.addEventListener("click",(function(){e.style.display="flex",t.style.display="none"})),o.addEventListener("click",(function(){t.style.display="none",e.style.display="flex",function(e){const t=document.getElementById("class-post-template"),n=document.querySelector(".search-stream-bar-container"),o=t.content.cloneNode(!0);o.getElementById("post-owner").textContent="John Doe",o.getElementById("date-style").textContent=getCurrHM(),o.getElementById("post-class-main-text").textContent=e.value;const a=o.getElementById("post-comments"),i=a.children[0];a.style.display="none",e.value="",i.textContent=c(0,i);const l=o.getElementById("post-comment-template");r(a,i,!1),s(a,a.parentElement.lastElementChild,l,i,0),n.parentNode.insertBefore(o,n.nextSibling)}(a)})),postOnEnter(a,o)}(),function(e,t){const n=e.data,l=document.getElementById("right-part-container"),d=document.getElementById("class-post-template"),u=document.getElementById("assignment-announcement-template");n.forEach((function(e){const n=e.comments,m=e.type;if(m){const o=u.content.cloneNode(!0);a(e,o,"assignment-announcement-owner","assignment-announced-date",m);const s=o.getElementById("assignment-announcement-comments");o.getElementById("assignment-comment-num").textContent=c(n.length,null),o.getElementById("assignment-href").href="courses/"+t+"/classwork/"+e.id,n.length||(s.style.display="none"),l.appendChild(o)}else{const t=d.content.cloneNode(!0);a(e,t,"post-owner","date-style",m),t.getElementById("post-class-main-text").textContent=e.description;const u=t.getElementById("post-comments"),h=u.children[0];h.textContent=c(n.length,h),l.appendChild(t);const g=document.getElementById("post-comment-template");n.forEach((function(e){o(u,g,e.user.displayName,e.date,e.description)}));let y=!1;if(n.length){if(n.length>1){i(Array.from(u.querySelectorAll(".post-comment")),"none"),y=!0}}else u.style.display="none";r(u,h,y),s(u,u.parentElement.lastElementChild,g,h,n.length)}}))}(e,t),function(){const e=document.getElementById("search-stream-bar-id");e.addEventListener("keyup",(function(t){if(13===t.keyCode){const t=e.value;""!==t&&(!function(e){const t=document.getElementById("reset-search-btn"),o=document.getElementById("right-part-container"),s=document.querySelector(".search-stream-bar");Array.from(o.children).forEach((function(t){if("assignment-announcement"===t.className||"class-post-container"===t.className){let o="";const s=t.querySelector(".post-owner").textContent,r=t.querySelector(".post-class-main-text");r&&(o=r.textContent),s.toLowerCase().includes(e.toLowerCase())||o.toLowerCase().includes(e.toLowerCase())?n(t,"#4285F4"):t.style.display="none"}})),t.style.display="block",s.style.display="none",t.addEventListener("click",(function(){!function(){const e=document.getElementById("right-part-container");Array.from(e.children).forEach((function(e){n(e,"lightgray"),e.style.display="block"}))}(),t.style.display="none",s.style.display="block"}))}(t),e.value="")}}))}()}))));function n(e,t){let n=e;"assignment-announcement"===e.className&&(n=e.querySelector(".class-post-container")),n.style.borderColor=t}function o(e,t,n,o,s){const r=t.content.cloneNode(!0);r.getElementById("comment-owner").textContent=n,r.getElementById("comment-posted").textContent=o,r.getElementById("comment-text").textContent=s,e.appendChild(r)}function s(e,t,n,s,r){let a=r;const i=t.querySelector(".comment-input-field button"),l=t.querySelector("input");i.addEventListener("click",(function(){l.value&&(o(e,n,"John Doe",getCurrHM(),l.value),a++,l.value="",function(e,t,n){n.textContent=c(t,n),"none"===e.style.display?e.style.display="block":"2"===n.textContent[0]&&(n.classList.add("button-hover"),n.style.pointerEvents="auto")}(e,a,s))})),postOnEnter(t,i)}function r(e,t,n){t.addEventListener("click",(function(){i(Array.from(e.querySelectorAll(".post-comment")),n?"flex":"none"),n=!n}))}function a(e,t,n,o,s){const r=t.getElementById(n);r.textContent=e.user.displayName,s>0&&(r.textContent+=" posted a new "),1==s&&(r.textContent+="assignment: "+e.assignment_name),2==s&&(r.textContent+="material: "+e.assignment_name),t.getElementById(o).textContent=e.date}function c(e,t){let n=e+" class comment";return 1==e&&t&&(t.classList.remove("button-hover"),t.style.pointerEvents="none"),e>1&&(n+="s"),n}function i(e,t){for(let n=0;n<e.length-1;n++)e[n].style.display=t}}static students(e){let t=e.data.id;return coursesController.loadPage("/html/courses-students.html").then((e=>{document.getElementById("main").innerHTML=e,changeHeaderStyleAndNav(!0,!1,!0,t)})).then((()=>get("/data/courses/"+t+".json",(function(e){document.title=e.course.name;const t=e.students,n=e.course.lecturer;document.querySelector(".stud-label-styling").textContent=t.length+" students";const o=document.getElementById("table-template"),s=document.querySelector(".table-container table");document.getElementById("lecturer-label").textContent=n,t.forEach((function(e){const t=o.content.cloneNode(!0);t.getElementById("student-label").textContent=e.displayName,s.appendChild(t)}))}))))}static classwork(e,t){let n=e.data.id;return coursesController.loadPage("/html/courses-classwork.html").then((e=>{document.getElementById("main").innerHTML=e,changeHeaderStyleAndNav(!0,!1,!0,n)})).then((()=>get("/data/courses/"+n+".json",(function(e){document.title=e.course.name,document.getElementById("view-your-work-btn-id").href="/courses/"+n+"/classwork-assignments";const o=e.data.filter((e=>1==e.type||2==e.type)),s=document.getElementById("assignment-bar-style-id"),r=document.getElementById("assignments-container");o.forEach((function(e){const o=s.content.cloneNode(!0);o.getElementById("assignment-name-id").textContent=e.assignment_name,o.getElementById("number-of-comments").textContent=e.comments.length?e.comments.length:"",o.getElementById("assignment-due-date").textContent=1==e.type?"Due "+e.due_date:"Posted "+e.date,o.getElementById("assignment-posted-date").textContent="Posted "+e.date,o.getElementById("assignment-content-main").textContent=e.description;const a=o.getElementById("view-assignment-button");a.textContent=1==e.type?"View assignment":"View material",a.addEventListener("click",(function(){t.navigate("/courses/"+n+"/classwork/"+e.id)})),e.comments.length||(o.getElementById("assignment-comments-id").style.display="none"),r.appendChild(o)})),handleClicksForAssignments()}))))}static classworkInner(e){let t=e.data.id,n=e.data.classworkid;return coursesController.loadPage("/html/courses-classwork-inner.html").then((e=>{document.getElementById("main").innerHTML=e,changeHeaderStyleAndNav(!1,!1,!1,t)})).then((()=>get("/data/courses/"+t+".json",(function(e){!function(e){if(document.title=e.assignment_name,document.getElementById("assignment-name-id").textContent=e.assignment_name,document.getElementById("author-id").textContent=e.user.displayName+" â€¢",document.getElementById("posted-date-id").textContent=e.date,document.getElementById("single-assignment-content").textContent=e.description,1==e.type){document.getElementById("points-id").textContent=e.max_points+" Points",document.getElementById("due-date-id").textContent=e.due_date+", "+e.due_date_h;const t=document.getElementById("assignment-curr-status"),n=e.assignment_status;t.textContent=n,"Assigned"==n?t.style.color="#2e7d32":(document.getElementById("mark-as-done").style.display="none","Turned in late"!=n&&"Missing"!=n||(t.style.color="red"))}else document.getElementById("type-1-bar-id").style.display="none",document.getElementById("single-assignment-right").style.display="none";!function(e){const t=document.getElementById("post-comments-container"),n=document.getElementById("single-assignment-comments-template"),s=document.getElementById("single-comments-btn"),r=e.length;let a=r+" class comment";r?(r>1&&(a+="s"),s.textContent=a,e.forEach((function(e){o(n,t,e,!0)}))):t.style.display="none";!function(e,t,n,s){let r=e;const a=document.querySelector(".comment-input-field"),c=a.querySelector("input"),i=document.getElementById("single-comment-post");i.addEventListener("click",(function(){s.style.display="block";const e=c.value;if(e){o(n,s,e,!1),r++,c.value="";let a=r+" class comment";r>1&&(a+="s"),t.textContent=a}})),postOnEnter(a,i)}(r,s,n,t)}(e.comments)}(e.data.filter((e=>e.id==n))[0])}))));function o(e,t,n,o){const s=e.content.cloneNode(!0);s.getElementById("comm-owner-id").textContent=o?n.user.displayName:"John Doe",s.getElementById("comm-date-id").textContent=o?n.date:getCurrHM(),s.getElementById("comm-main-content").textContent=o?n.description:n,t.appendChild(s)}}static classworkAssignments(e,t){let n=e.data.id;return coursesController.loadPage("/html/courses-classwork-assignments.html").then((e=>{document.getElementById("main").innerHTML=e,changeHeaderElementsDisplay(!1,!1,!1)})).then((()=>get("/data/courses/"+n+".json",(function(e){document.title=e.course.name;const o=e.data.filter((e=>1==e.type)),s=document.getElementById("your-work-template"),r=document.getElementById("your-work-assignments"),a=document.getElementById("nothing-assigned-id");if(document.getElementById("logged-in-id").textContent="John Doe",o.length)o.forEach((function(e){const o=s.content.cloneNode(!0),a=o.getElementById("num-of-comments"),c=o.getElementById("your-work-status-id"),i=o.getElementById("your-work-view-button"),l=o.getElementById("your-work-main"),d="work has been attached.",u=e.assignment_status;o.getElementById("your-work-assignment-name").textContent=e.assignment_name,a.textContent=e.comments.length?e.comments.length:"",o.getElementById("your-work-due-date").textContent=e.due_date,c.textContent="Graded"==u?e.score+"/"+e.max_points:u,l.textContent="Assigned"==u||"Missing"==u?"No "+d:"Your "+d,i.textContent="View details",i.addEventListener("click",(function(){t.navigate("/courses/"+n+"/classwork/"+e.id)})),e.comments.length||(o.getElementById("your-work-comments").style.display="none",a.style.display="none"),r.appendChild(o)})),handleClicksForAssignments();else{const e=a.content.cloneNode(!0);r.appendChild(e)}}))))}}const router=new Navigo("/"),renderer=(e,t,n=null)=>{null==n?t(e).then((()=>{router.updatePageLinks()})):t(e,n).then((()=>{router.updatePageLinks()}))};router.on("/",(e=>renderer(e,indexController.index))).on("/login",(e=>renderer(e,loginController.login,router))).on("/courses",(e=>renderer(e,coursesController.index))).on("/courses/:id",(e=>renderer(e,coursesController.show))).on("/courses/:id/students",(e=>renderer(e,coursesController.students))).on("/courses/:id/classwork",(e=>renderer(e,coursesController.classwork,router))).on("/courses/:id/classwork/:classworkid",(e=>renderer(e,coursesController.classworkInner))).on("/courses/:id/classwork-assignments",(e=>renderer(e,coursesController.classworkAssignments,router))).resolve();
